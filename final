#include <iostream>//библиотека ввода-вывода
#include <fstream>//работа с файлами
#include <stdlib.h>//функции для работы с памятью, числами и строками.

using namespace std;//использование пространства имен стандартной библиотеки

class Balance {//Объявление класса Balance.
    public:
    int balance;//Объявление переменной balance типа int внутри класса Balance
    Balance(int balance) {//Конструктор класса Balance, который принимает аргумент типа int и инициализирует переменную balance
        this->balance = balance;
    }
};

    
class User{//Объявление класса User
    public:
    string name;//Объявление переменной name типа string внутри класса User
    int id, balance;//Объявление переменных id и balance типа int внутри класса User
    User (string name, int id) {//Конструктор класса User, который принимает аргументы типа string и int и инициализирует переменные name и id. Значение переменной balance устанавливается равным 5000.
        balance = 5000;
        this->id = id;
        this->name = name;
    }
}; 
    
class Consuption{//Объявление класса Consuption
    public: 
    int sum;//Объявление переменной sum типа int внутри класса Consuption
    int id;//Объявление переменной id типа int внутри класса Consuption
    Consuption (int sum, int userid) {//Конструктор класса Consuption, который принимает аргументы типа int и инициализирует переменные sum и id
        this->sum = sum;
        this->id = id;
    }
};
ofstream out;//Создание объекта класса ofstream для записи данных в файл
int n1, n2, i, s, b=1, v, p, p2;//Объявление переменных типа int.
double x;//Объявление переменной x типа double
int main ()//главная функция
{

    cout<<"пополнить баланс 1 на сумму: ";//вывод сообщения пользователю
    cin>>p;//Считывание введенного значения суммы в переменную p
    out.open("пополнение.txt");//Открытие файла
    if (out.is_open())//Проверка, открыт ли файл
    {
        out<<"пополнение 1 баланса = "<<p<<"\n";
    }
    out.close();//Закрытие файла
    
    
    cout << "ведите количество месецов трат для 1 баланса но неболше 12\n";//вывод сообщения пользователю
    cin >> n1;//Считывание введенного значения количества месяцев в переменную n1
    if(n1>12){// Проверка, является ли значение переменной n1 больше 12
        cout << "тычё дурак шоль";//Вывод строки на экран
        return 0;//Завершение работы
    };
    int* consuption = (int*)calloc(n1, sizeof(int));//Выделение памяти для указателя consuption размером n1 * sizeof(int)Выделение памяти для указателя balanse размером b * sizeof(int)
    int* balanse = (int*)calloc(b, sizeof(int));//Выделение памяти для указателя balanse размером b * sizeof(int)
    
    for(i=1; i<b+1; i++){//цикл
    cout<<"введите общие траты 1 категории трат "<<"но не больше "<<p<<" = ";//вывод сообщения пользователю
    cin>> balanse[i-1];
    };
    
    for(i=0; i<n1; i++){
        
    }
    for(i=1; i<n1+1; i++){
     cout<<"введите траты месяца "<<i<<":";//вывод сообщения пользователю
    cin>> consuption[i-1];
    *balanse=*balanse+consuption[i-1];
    };
    for(i=0; i<n1; i++){
        
    }
    
    out.open("траты 1 баланса.txt");
    if (out.is_open())
    {
    for(i=1; i<n1+1; i++){
    out<<"траты в этом " <<i<< " месеце "<<"= "<<consuption[i-1]<<"$\n";
    }
    }
    out.close();//Закрытие файла
    
    
    out.open("процнт месецу1.txt");//Открытие файла 
    if (out.is_open()) 
    {
            double x=0, s=0;
            for(int i=0; i<n1; i++){
            x=(consuption[i]+0.0)+x;
            }
            double it;
            for(int i=0; i<n1; i++){
            s=consuption[i]/x*100;
            v=s;
            out<<"процнты по этому "<<i+1<<" месецу от всех месечныйх трат"<<"= "<<v<<"%\n";
            }
    }
    out.close();//Закрытие файла
    p=p-*balanse;
    

    
    int p2;
    cout<<"попольнить 2 баланс на сумму: ";//вывод сообщения пользователю
    cin>>p2;;
    
    out.open("пополнение.txt", ios_base::app);
    if (out.is_open())
    {
        out<<"пополнение 2 баланса = "<<p2;
    }
    out.close();//Закрытие файла
    
    cout << "ведите  количество месецов трат для 2 баланса но неболше 12\n";//вывод сообщения пользователю
    cin >> n2;
    if(n2>12){
        cout << "тычё дурак шоль";
        return 0;
    };
    
    int* consuption2 = (int*)calloc(n2, sizeof(int));
    int* balanse2 = (int*)calloc(b, sizeof(int));
    
    for(i=1; i<b+1; i++){
    cout<<"введите общие траты 2 категории трат "<<"но не больше "<<p2<<" = ";//вывод сообщения пользователю
    cin>> balanse2[i-1];
    };
    
    for(i=0; i<n2; i++){
        
    }
    for(i=1; i<n2+1; i++){
     cout<<"введите траты месяца "<<i<<":";
    cin>> consuption2[i-1];
    *balanse2=*balanse2+consuption2[i-1];
    };
    for(i=0; i<n2; i++){
        
    }
    
    out.open("траты 2 баланса.txt");
    if (out.is_open())
    {
    for(i=1; i<n2+1; i++){
    out<<"траты в этом " <<i<< " месеце "<<"= "<<consuption2[i-1]<<"$\n";
    }
    }
    out.close();//Закрытие файла
    
    
    out.open("процнт месецу2.txt");
    if (out.is_open())
    {
            double x=0,s=0;
            for(int i=0; i<n2; i++){
            x=(consuption2[i]+0.0)+x;
            }
            double it;
            for(int i=0; i<n2; i++){
            s=consuption2[i]/x*100;
            v=s;
            out<<"процнты по этому "<<i+1<<" месецу от всех месечныйх трат"<<"= "<<v<<"%\n";
            }
    }
    out.close();//Закрытие файла
    p2=p2-*balanse2;
    
    out.open("расчёт баланса.txt");//Открытие файла
    if (out.is_open())
    {
        out<<"баланс 1 = "<<p<<"\n";
        out<<"баланс 2 = "<<p2<<"\n";
    }
    
    out.open("процент всех трат.txt");
    if (out.is_open())
    {
    double balanse_overal=p+p2+0.0;
    int balanse_overal_percent[2];
    balanse_overal_percent[0]=p/balanse_overal*100;
    balanse_overal_percent[1]=p2/balanse_overal*100;
    out<<"траты 1 баланса = "<<balanse_overal_percent[0]<<"\n";
    out<<"траты 2 баланса = "<<balanse_overal_percent[1]<<"\n";
    }
    
    
    
    return 0;//успешное завершение программы с кодом 0
}
